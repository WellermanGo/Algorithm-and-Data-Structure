//单调队列，滑动窗口（模板）
#include <iostream>
#include <deque>        //这是双端队列
using namespace std;
const int N = 1e6 + 5;
int a[N];
deque<int> dq;                        //单调队列存储和操作的是数组下标
int main() {
	int n;             //序列有n个数字
	int m;             //窗口长度为m
	cin >> n >> m;
	for (int i = 1; i <= n; i++)cin >> a[i];
	for (int i = 1; i <= n; i++)
	{
		while (!dq.empty() && a[dq.back()] > a[i])
			dq.pop_back();
		dq.push_back(i);
		if (i >= m)
		{
			while (!dq.empty() && dq.front() <= i - m)                //此处的while应该可以改成if，每次只涉及一次操作，要么删队头，要么不删
				dq.pop_front();
			cout << a[dq.front()] << " ";
		}
	}
	cout<<'\n';
	while(!dq.empty()) dq.pop_front();
	for (int i = 1; i <= n; i++)
	{
		while (!dq.empty() && a[dq.back()] < a[i])
			dq.pop_back();
		dq.push_back(i);
		if (i >= m)
		{
			while (!dq.empty() && dq.front() <= i - m)                //此处的while应该可以改成if，每次只涉及一次操作，要么删队头，要么不删
				dq.pop_front();
			cout << a[dq.front()] << " ";
		}
	}
	cout<<'\n';
	return 0;
}
